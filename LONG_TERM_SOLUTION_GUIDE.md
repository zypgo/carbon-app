# é•¿æœŸè§£å†³æ–¹æ¡ˆå®žæ–½æŒ‡å—

## ðŸŽ¯ ç›®æ ‡

å½»åº•åºŸå¼ƒè¢«æ±¡æŸ“çš„åˆçº¦ï¼Œè¿ç§»æ‰€æœ‰å¥½æ•°æ®åˆ°ä¸€ä¸ªå…¨æ–°çš„ã€å¹²å‡€çš„åˆçº¦ä¸­ï¼Œæ ¹æ²» BAD_DATA é”™è¯¯é—®é¢˜ã€‚

## ðŸ”§ è§£å†³æ–¹æ¡ˆæ¦‚è¿°

### é—®é¢˜åˆ†æž
- **æ ¹æœ¬åŽŸå› **: æ—§åˆçº¦ `0x35998AC86d38aBeDF63dbb1c98695b0AB2F455C0` ä¸­å­˜åœ¨æŸåçš„é¡¹ç›®æ•°æ®
- **å½±å“**: æŸåæ•°æ®å¯¼è‡´ `getAllProjects()` è°ƒç”¨å¤±è´¥ï¼Œæ•´ä¸ª DApp æ— æ³•æ­£å¸¸æ˜¾ç¤ºé¡¹ç›®åˆ—è¡¨
- **è§£å†³ç­–ç•¥**: "å¼ƒæ—§å¼€æ–°" - éƒ¨ç½²æ–°åˆçº¦ï¼Œè¿ç§»æœ‰æ•ˆæ•°æ®ï¼ŒåºŸå¼ƒæ—§åˆçº¦

### æ”¹è¿›æŽªæ–½
1. **æ™ºèƒ½åˆçº¦æ”¹è¿›**: æ·»åŠ è¾“å…¥éªŒè¯é˜²æŠ¤ä»£ç 
2. **æ•°æ®è¿ç§»**: å®‰å…¨è¿ç§»æœ‰æ•ˆé¡¹ç›®æ•°æ®
3. **å‰ç«¯æ›´æ–°**: æŒ‡å‘æ–°åˆçº¦åœ°å€
4. **é¢„é˜²æœºåˆ¶**: é˜²æ­¢æœªæ¥æ•°æ®æŸå

## ðŸ“‹ å®žæ–½æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šçŽ¯å¢ƒé…ç½®

```bash
# 1. é…ç½® Sepolia æµ‹è¯•ç½‘ç»œ
npm run setup:sepolia

# 2. ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š
# SEPOLIA_URL=https://sepolia.infura.io/v3/YOUR_PROJECT_ID
# PRIVATE_KEY=your_private_key_here
# ETHERSCAN_API_KEY=your_etherscan_api_key (å¯é€‰)
```

### ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²æ–°åˆçº¦

```bash
# éƒ¨ç½²æ”¹è¿›åŽçš„æ–°åˆçº¦åˆ° Sepolia
npm run deploy-sepolia
```

**æ–°åˆçº¦æ”¹è¿›**:
- âœ… æ·»åŠ äº†å­—ç¬¦ä¸²é•¿åº¦éªŒè¯
- âœ… æ·»åŠ äº†æ•°å€¼èŒƒå›´æ£€æŸ¥
- âœ… é˜²æ­¢ç©ºå€¼å’Œå¼‚å¸¸æ•°æ®å†™å…¥

### ç¬¬ä¸‰æ­¥ï¼šæ•°æ®è¿ç§»

```bash
# è¿è¡Œæ•°æ®è¿ç§»è„šæœ¬
npm run migrate:data
```

**è¿ç§»è¿‡ç¨‹**:
1. è¿žæŽ¥åˆ°æ—§åˆçº¦å’Œæ–°åˆçº¦
2. èŽ·å–æ‰€æœ‰é¡¹ç›® ID
3. é€ä¸ªæ£€æŸ¥é¡¹ç›®æ•°æ®å®Œæ•´æ€§
4. è·³è¿‡æŸåçš„é¡¹ç›®æ•°æ®
5. å°†æœ‰æ•ˆé¡¹ç›®é‡æ–°åˆ›å»ºåˆ°æ–°åˆçº¦
6. ä¿æŒé¡¹ç›®çŠ¶æ€ï¼ˆå·²æ‰¹å‡†çš„é¡¹ç›®åœ¨æ–°åˆçº¦ä¸­ä¹Ÿä¼šè¢«æ‰¹å‡†ï¼‰

### ç¬¬å››æ­¥ï¼šæ›´æ–°å‰ç«¯é…ç½®

```bash
# æ›´æ–°å‰ç«¯æŒ‡å‘æ–°åˆçº¦
npm run update:frontend
```

**æ›´æ–°å†…å®¹**:
- åˆçº¦é…ç½®æ–‡ä»¶ (`src/contracts/config.json`)
- çŽ¯å¢ƒå˜é‡æ–‡ä»¶ (`.env`)
- å‰ç«¯çŽ°åœ¨æŒ‡å‘æ–°çš„å¹²å‡€åˆçº¦

### ç¬¬äº”æ­¥ï¼šä¸€é”®å®Œæ•´è¿ç§»ï¼ˆæŽ¨èï¼‰

```bash
# æ‰§è¡Œå®Œæ•´çš„è¿ç§»æµç¨‹
npm run full:migration
```

è¿™ä¸ªå‘½ä»¤ä¼šä¾æ¬¡æ‰§è¡Œï¼š
1. éƒ¨ç½²æ–°åˆçº¦
2. è¿ç§»æ•°æ®
3. æ›´æ–°å‰ç«¯é…ç½®

## ðŸ›¡ï¸ é¢„é˜²æŽªæ–½

### æ™ºèƒ½åˆçº¦è¾“å…¥éªŒè¯

æ–°åˆçº¦åœ¨ `createProject` å‡½æ•°ä¸­æ·»åŠ äº†ä¸¥æ ¼çš„è¾“å…¥éªŒè¯ï¼š

```solidity
// é˜²æŠ¤ä»£ç 
require(bytes(name).length > 0 && bytes(name).length < 100, "Project name invalid length");
require(bytes(description).length > 0 && bytes(description).length < 500, "Description invalid length");
require(bytes(projectType).length > 0 && bytes(projectType).length < 50, "Project type invalid length");
require(bytes(documentHash).length > 0 && bytes(documentHash).length < 100, "Document hash invalid length");
require(totalCredits > 0 && totalCredits <= 1000000, "Total credits out of range");
```

### æ•°æ®è´¨é‡ç›‘æŽ§

å»ºè®®åœ¨å‰ç«¯æ·»åŠ æ•°æ®éªŒè¯ï¼š
- è¡¨å•è¾“å…¥é•¿åº¦é™åˆ¶
- ç‰¹æ®Šå­—ç¬¦è¿‡æ»¤
- æ•°æ®æ ¼å¼éªŒè¯

## ðŸ“Š è¿ç§»æŠ¥å‘Š

è¿ç§»å®ŒæˆåŽï¼Œç³»ç»Ÿä¼šç”Ÿæˆè¯¦ç»†æŠ¥å‘Šï¼š

- `migration-report.json`: è¿ç§»ç»Ÿè®¡ä¿¡æ¯
- `MIGRATION_COMPLETED.md`: è¿ç§»å®Œæˆè¯´æ˜Ž

## ðŸ” éªŒè¯æ­¥éª¤

### 1. æ£€æŸ¥æ–°åˆçº¦éƒ¨ç½²

```bash
# æŸ¥çœ‹éƒ¨ç½²ä¿¡æ¯
cat deployments/sepolia-deployment.json
```

### 2. éªŒè¯æ•°æ®è¿ç§»

```bash
# æŸ¥çœ‹è¿ç§»æŠ¥å‘Š
cat migration-report.json
```

### 3. æµ‹è¯•å‰ç«¯åŠŸèƒ½

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è®¿é—® DAppï¼ŒéªŒè¯ï¼š
- âœ… é¡¹ç›®åˆ—è¡¨æ­£å¸¸æ˜¾ç¤º
- âœ… å¯ä»¥åˆ›å»ºæ–°é¡¹ç›®
- âœ… é¡¹ç›®æ•°æ®å®Œæ•´
- âœ… æ²¡æœ‰ BAD_DATA é”™è¯¯

## ðŸš¨ é‡è¦æé†’

### æ—§åˆçº¦å¤„ç†

1. **æ ‡è®°åºŸå¼ƒ**: åœ¨ Etherscan ä¸Šä¸ºæ—§åˆçº¦æ·»åŠ è¯´æ˜Ž
2. **é€šçŸ¥ç”¨æˆ·**: å‘ŠçŸ¥ç”¨æˆ·ä½¿ç”¨æ–°åˆçº¦åœ°å€
3. **ä¿ç•™è®°å½•**: ä¿ç•™æ—§åˆçº¦åœ°å€ä½œä¸ºåŽ†å²è®°å½•

### æˆæœ¬è€ƒè™‘

- **Gas è´¹ç”¨**: æ¯ä¸ªé¡¹ç›®è¿ç§»éœ€è¦æ¶ˆè€— Gas
- **æµ‹è¯•ç½‘ç»œ**: ä½¿ç”¨ Sepolia æµ‹è¯•ç½‘ï¼Œæˆæœ¬è¾ƒä½Ž
- **æ‰¹é‡æ“ä½œ**: è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†æ‰€æœ‰æœ‰æ•ˆé¡¹ç›®

## ðŸŽ‰ å®Œæˆæ ‡å¿—

å½“çœ‹åˆ°ä»¥ä¸‹æ–‡ä»¶æ—¶ï¼Œè¯´æ˜Žé•¿æœŸè§£å†³æ–¹æ¡ˆå·²å®Œæˆï¼š

- âœ… `MIGRATION_COMPLETED.md` æ–‡ä»¶å­˜åœ¨
- âœ… `migration-report.json` æ˜¾ç¤ºè¿ç§»æˆåŠŸ
- âœ… DApp æ­£å¸¸è¿è¡Œï¼Œæ—  BAD_DATA é”™è¯¯
- âœ… æ–°åˆçº¦åœ°å€åœ¨å‰ç«¯é…ç½®ä¸­

## ðŸ“ž æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

1. **éƒ¨ç½²å¤±è´¥**: æ£€æŸ¥ Sepolia URL å’Œç§é’¥é…ç½®
2. **ä½™é¢ä¸è¶³**: ç¡®ä¿è´¦æˆ·æœ‰è¶³å¤Ÿçš„ Sepolia ETH
3. **è¿ç§»å¤±è´¥**: æ£€æŸ¥ç½‘ç»œè¿žæŽ¥å’Œåˆçº¦åœ°å€

### èŽ·å–å¸®åŠ©

- æŸ¥çœ‹æŽ§åˆ¶å°é”™è¯¯ä¿¡æ¯
- æ£€æŸ¥ `.env` æ–‡ä»¶é…ç½®
- éªŒè¯ç½‘ç»œè¿žæŽ¥çŠ¶æ€

---

**è¿™ä¸ªé•¿æœŸè§£å†³æ–¹æ¡ˆå°†å½»åº•è§£å†³ BAD_DATA é—®é¢˜ï¼Œå¹¶å»ºç«‹é˜²æŠ¤æœºåˆ¶é˜²æ­¢æœªæ¥å†æ¬¡å‘ç”Ÿç±»ä¼¼é—®é¢˜ã€‚** ðŸ›¡ï¸